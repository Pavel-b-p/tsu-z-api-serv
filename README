README.md - –°–ï–¢–ï–í–ê–Ø –õ–ê–ë–û–†–ê–¢–û–†–ò–Ø UDP/BROADCAST/MULTICAST

üìã –û–ü–ò–°–ê–ù–ò–ï –ü–†–û–ï–ö–¢–ê
–û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π –ø—Ä–æ–µ–∫—Ç –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è —Ç—Ä–µ—Ö —Ä–µ–∂–∏–º–æ–≤ UDP-–∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Docker –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏. –ü—Ä–æ–µ–∫—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç:

UDP (Unicast) - —Ç–æ—á–∫–∞-—Ç–æ—á–∫–∞ —Å–≤—è–∑—å

Broadcast - —à–∏—Ä–æ–∫–æ–≤–µ—â–∞—Ç–µ–ª—å–Ω–∞—è —Ä–∞—Å—Å—ã–ª–∫–∞ (–≤—Å–µ–º –≤ –ø–æ–¥—Å–µ—Ç–∏)

Multicast - –≥—Ä—É–ø–ø–æ–≤–∞—è —Ä–∞—Å—Å—ã–ª–∫–∞ (—Ç–æ–ª—å–∫–æ –ø–æ–¥–ø–∏—Å—á–∏–∫–∞–º)

üèóÔ∏è –°–¢–†–£–ö–¢–£–†–ê –ü–†–û–ï–ö–¢–ê
text
tsu-z-api-serv/
‚îú‚îÄ‚îÄ Dockerfile              # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Docker –æ–±—Ä–∞–∑–∞
‚îú‚îÄ‚îÄ docker-compose.yml     # –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è 3 –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –º–∞—à–∏–Ω
‚îú‚îÄ‚îÄ Makefile              # –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Å–±–æ—Ä–∫–∏ C++ –ø—Ä–æ–≥—Ä–∞–º–º
‚îú‚îÄ‚îÄ main.cpp              # –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
‚îú‚îÄ‚îÄ broadcast/            # Broadcast –ø—Ä–æ–≥—Ä–∞–º–º—ã
‚îÇ   ‚îú‚îÄ‚îÄ broadcast_server.cpp  # –°–µ—Ä–≤–µ—Ä –¥–ª—è –ø—Ä–∏–µ–º–∞ broadcast
‚îÇ   ‚îî‚îÄ‚îÄ broadcast_client.cpp  # –ö–ª–∏–µ–Ω—Ç –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ broadcast
‚îú‚îÄ‚îÄ multicast/            # Multicast –ø—Ä–æ–≥—Ä–∞–º–º—ã
‚îÇ   ‚îú‚îÄ‚îÄ multicast_server.cpp  # –°–µ—Ä–≤–µ—Ä –¥–ª—è –ø—Ä–∏–µ–º–∞ multicast
‚îÇ   ‚îî‚îÄ‚îÄ multicast_client.cpp  # –ö–ª–∏–µ–Ω—Ç –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ multicast
‚îî‚îÄ‚îÄ udp/                  # UDP –ø—Ä–æ–≥—Ä–∞–º–º—ã
    ‚îú‚îÄ‚îÄ udp_server.cpp    # –û–±—ã—á–Ω—ã–π UDP —Å–µ—Ä–≤–µ—Ä (Echo)
    ‚îî‚îÄ‚îÄ udp_client.cpp    # –û–±—ã—á–Ω—ã–π UDP –∫–ª–∏–µ–Ω—Ç

üöÄ –ë–´–°–¢–†–´–ô –°–¢–ê–†–¢
–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
Ubuntu/Debian —Å–∏—Å—Ç–µ–º–∞

Docker –∏ Docker Compose

Git (–¥–ª—è –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è)

–£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker (–µ—Å–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω):
bash
# –û–±–Ω–æ–≤–∏—Ç—å –ø–∞–∫–µ—Ç—ã
sudo apt update

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Docker
sudo apt install -y docker.io docker-compose

# –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –≥—Ä—É–ø–ø—É docker
sudo usermod -aG docker $USER
newgrp docker  # –∏–ª–∏ –ø–µ—Ä–µ–∑–∞–π–¥–∏—Ç–µ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É
docker --version
docker-compose --version
–ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞:
bash
# 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/Pavel-b-p/tsu-z-api-serv.git
cd tsu-z-api-serv

# 2. –°–æ–±—Ä–∞—Ç—å Docker –æ–±—Ä–∞–∑—ã (—Å–æ–∑–¥–∞—Å—Ç —Å–µ—Ç—å —Å multicast –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π)
docker-compose build

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç—å 3 –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –º–∞—à–∏–Ω—ã
docker-compose up -d

# 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∑–∞–ø—É—â–µ–Ω—ã
docker-compose ps
–†–∞–±–æ—Ç–∞ —Å –ø—Ä–æ–µ–∫—Ç–æ–º:
bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–º –º–∞—à–∏–Ω–∞–º:
# –û—Ç–∫—Ä–æ–π—Ç–µ 3 —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ SSH

# –¢–µ—Ä–º–∏–Ω–∞–ª 1: –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ PC1 (—Å–µ—Ä–≤–µ—Ä)
docker-compose exec pc1 bash

# –¢–µ—Ä–º–∏–Ω–∞–ª 2: –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ PC2 (–∫–ª–∏–µ–Ω—Ç)
docker-compose exec pc2 bash

# –¢–µ—Ä–º–∏–Ω–∞–ª 3: –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ PC3 (—Å–µ—Ä–≤–µ—Ä 2)
docker-compose exec pc3 bash
–í–Ω—É—Ç—Ä–∏ –∫–∞–∂–¥–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:
bash
# 1. –°–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—ã
make

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
./main

# –ò–õ–ò –∑–∞–ø—É—Å–∫–∞—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—ã –Ω–∞–ø—Ä—è–º—É—é:
./udp/udp_server        # UDP —Å–µ—Ä–≤–µ—Ä
./udp/udp_client        # UDP –∫–ª–∏–µ–Ω—Ç
./broadcast/broadcast_server  # Broadcast —Å–µ—Ä–≤–µ—Ä
./broadcast/broadcast_client  # Broadcast –∫–ª–∏–µ–Ω—Ç
./multicast/multicast_server  # Multicast —Å–µ—Ä–≤–µ—Ä
./multicast/multicast_client  # Multicast –∫–ª–∏–µ–Ω—Ç
üéÆ –ì–õ–ê–í–ù–û–ï –ú–ï–ù–Æ
–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ ./main –≤—ã —É–≤–∏–¥–∏—Ç–µ:

text
=== –°–µ—Ç–µ–≤–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ: UDP/Broadcast/Multicast ===
–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É –¥–ª—è –∑–∞–ø—É—Å–∫–∞:
1. –û–±—ã—á–Ω—ã–π UDP —Å–µ—Ä–≤–µ—Ä (Echo)
2. –û–±—ã—á–Ω—ã–π UDP –∫–ª–∏–µ–Ω—Ç
3. Broadcast —Å–µ—Ä–≤–µ—Ä (–ø—Ä–∏—ë–º —Å–æ–æ–±—â–µ–Ω–∏–π)
4. Broadcast –∫–ª–∏–µ–Ω—Ç (–æ—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π)
5. Multicast —Å–µ—Ä–≤–µ—Ä
6. Multicast –∫–ª–∏–µ–Ω—Ç
0. –í—ã—Ö–æ–¥
–í—ã–±–æ—Ä: 
–ú–µ–Ω—é –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç –Ω—É–∂–Ω—É—é –ø—Ä–æ–≥—Ä–∞–º–º—É —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø—É—Ç—è–º–∏.

üåê –°–ï–¢–ï–í–ê–Ø –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø
–ü—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–µ—Ç –≤–∏—Ä—Ç—É–∞–ª—å–Ω—É—é —Å–µ—Ç—å Docker —Å 3 –º–∞—à–∏–Ω–∞–º–∏:

text
–°–µ—Ç—å: 192.168.100.0/24 —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π Multicast
‚îú‚îÄ‚îÄ PC1: 192.168.100.10 (server-pc)
‚îú‚îÄ‚îÄ PC2: 192.168.100.20 (client1-pc)
‚îî‚îÄ‚îÄ PC3: 192.168.100.30 (client2-pc)

Ports:
- UDP: 27115
- Broadcast: 27015
- Multicast: 239.255.0.1:28000
üìñ –û–ü–ò–°–ê–ù–ò–ï –ü–†–û–ì–†–ê–ú–ú
UDP (Unicast - —Ç–æ—á–∫–∞-—Ç–æ—á–∫–∞):
udp_server.cpp - –ü—Ä–∏–Ω–∏–º–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –æ–±—Ä–∞—Ç–Ω–æ (Echo —Å–µ—Ä–≤–µ—Ä)

udp_client.cpp - –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–∞ UDP —Å–µ—Ä–≤–µ—Ä

Broadcast (—à–∏—Ä–æ–∫–æ–≤–µ—â–∞—Ç–µ–ª—å–Ω–∞—è —Ä–∞—Å—Å—ã–ª–∫–∞):
broadcast_server.cpp - –ü—Ä–∏–Ω–∏–º–∞–µ—Ç broadcast —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç –≤—Å–µ—Ö –≤ —Å–µ—Ç–∏

broadcast_client.cpp - –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –≤—Å–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–∞–º –≤ –ø–æ–¥—Å–µ—Ç–∏

Multicast (–≥—Ä—É–ø–ø–æ–≤–∞—è —Ä–∞—Å—Å—ã–ª–∫–∞):
multicast_server.cpp - –ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–µ—Ç—Å—è –∫ multicast –≥—Ä—É–ø–ø–µ –∏ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è

multicast_client.cpp - –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ multicast –≥—Ä—É–ø–ø—É (—Ç–æ–ª—å–∫–æ –ø–æ–¥–ø–∏—Å—á–∏–∫–∞–º)

üß™ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï –í–°–ï–• –†–ï–ñ–ò–ú–û–í
–¢–µ—Å—Ç 1: Multicast
bash
# –í 3 —Ä–∞–∑–Ω—ã—Ö —Ç–µ—Ä–º–∏–Ω–∞–ª–∞—Ö:

# –¢–µ—Ä–º–∏–Ω–∞–ª 1 (PC1):
docker-compose exec pc1 bash
./multicast/multicast_server

# –¢–µ—Ä–º–∏–Ω–∞–ª 2 (PC3):
docker-compose exec pc3 bash
./multicast/multicast_server

# –¢–µ—Ä–º–∏–Ω–∞–ª 3 (PC2):
docker-compose exec pc2 bash
./multicast/multicast_client
–†–µ–∑—É–ª—å—Ç–∞—Ç: –û–±–∞ —Å–µ—Ä–≤–µ—Ä–∞ (PC1 –∏ PC3) –ø–æ–ª—É—á–∞—Ç –æ–¥–∏–Ω–∞–∫–æ–≤–æ–µ multicast —Å–æ–æ–±—â–µ–Ω–∏–µ.

–¢–µ—Å—Ç 2: Broadcast
bash
# –¢–µ—Ä–º–∏–Ω–∞–ª 1 (PC1):
./broadcast/broadcast_server

# –¢–µ—Ä–º–∏–Ω–∞–ª 2 (PC3):
./broadcast/broadcast_server

# –¢–µ—Ä–º–∏–Ω–∞–ª 3 (PC2):
./broadcast/broadcast_client
–†–µ–∑—É–ª—å—Ç–∞—Ç: –û–±–∞ —Å–µ—Ä–≤–µ—Ä–∞ –ø–æ–ª—É—á–∞—Ç broadcast —Å–æ–æ–±—â–µ–Ω–∏–µ.

–¢–µ—Å—Ç 3: UDP
bash
# –¢–µ—Ä–º–∏–Ω–∞–ª 1 (PC1):
./udp/udp_server

# –¢–µ—Ä–º–∏–Ω–∞–ª 2 (PC2):
./udp/udp_client
–†–µ–∑—É–ª—å—Ç–∞—Ç: –°–µ—Ä–≤–µ—Ä –ø–æ–ª—É—á–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –æ—Ç PC2.

üîß –£–ü–†–ê–í–õ–ï–ù–ò–ï DOCKER
bash
# –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
docker-compose build          # –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –æ–±—Ä–∞–∑—ã
docker-compose up -d          # –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker-compose down           # –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ —É–¥–∞–ª–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker-compose ps             # –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker-compose logs           # –ü–æ–∫–∞–∑–∞—Ç—å –ª–æ–≥–∏ –≤—Å–µ—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker-compose logs pc1       # –õ–æ–≥–∏ —Ç–æ–ª—å–∫–æ PC1

# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º
docker-compose exec pc1 bash  # –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ PC1
docker-compose exec pc2 bash  # –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ PC2
docker-compose exec pc3 bash  # –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ PC3

# –ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞
docker-compose down
docker system prune -af
‚öôÔ∏è MAKEFILE –ö–û–ú–ê–ù–î–´
–í–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –¥–æ—Å—Ç—É–ø–Ω—ã –∫–æ–º–∞–Ω–¥—ã Makefile:

bash
make              # –°–æ–±—Ä–∞—Ç—å –≤—Å–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã
make clean        # –£–¥–∞–ª–∏—Ç—å —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
make run          # –°–æ–±—Ä–∞—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
üêõ –£–°–¢–†–ê–ù–ï–ù–ò–ï –ù–ï–ò–°–ü–†–ê–í–ù–û–°–¢–ï–ô
Multicast –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ç–∏
docker network inspect tsu-z-api-serv_lab-network | grep enable_ip_md5
# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: "com.docker.network.bridge.enable_ip_md5": "true"
–û—à–∏–±–∫–∞ "Pool overlaps":
bash
# –£–¥–∞–ª–∏—Ç—å –≤—Å—ë –∏ –Ω–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ
docker-compose down
docker network rm tsu-z-api-serv_lab-network 2>/dev/null || true
docker-compose up -d
–ü—Ä–æ–≥—Ä–∞–º–º—ã –Ω–µ –∫–æ–º–ø–∏–ª–∏—Ä—É—é—Ç—Å—è:
bash
# –°–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞—Ç—å –≤–Ω—É—Ç—Ä–∏ –∫–∞–∂–¥–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker-compose exec pc1 make clean && make
docker-compose exec pc2 make clean && make
docker-compose exec pc3 make clean && make